# https://taskfile.dev

version: "3"

tasks:
  install-deps:
    cmds:
      - scoop update
      - scoop install task kubectl busybox-lean starship bottom dust fd fzf jq lsd procs ripgrep sudo zoxide ghq posh-git
    silent: true
  generate-completion:
    cmds:
      - pwsh -File ./completion.generate.ps1
  install:
    deps:
      - install-deps
      - generate-completion
    cmds:
      - pnpm install
      - mkdir -p bin/busybox
      - busybox --install bins/busybox
    silent: true
  update:
    deps:
      - generate-completion
    cmds:
      - pnpm update
  clean:
    cmds:
      - rm -rf bins/
      - rm -rf init.generated.d/
      - rm -rf node_modules/
